[gd_scene load_steps=7 format=3 uid="uid://bbrwemhjdmnmp"]

[ext_resource type="PackedScene" uid="uid://dwqglfromxqe6" path="res://assets/Models/subversion_map1.glb" id="1_ka8lc"]
[ext_resource type="PackedScene" uid="uid://dpudw516j8pow" path="res://src/Scenes/Player/first_person_player.tscn" id="2_23518"]
[ext_resource type="PackedScene" uid="uid://crw2dcp25lpgq" path="res://src/Scenes/CityHall/BasicEnemy.tscn" id="3_efsec"]
[ext_resource type="PackedScene" uid="uid://csbua6s8huld4" path="res://src/Scenes/CityHall/EnemySpawner.tscn" id="4_pxmmj"]

[sub_resource type="Environment" id="Environment_k0ooc"]
ambient_light_source = 2
ambient_light_color = Color(0.188572, 0.166762, 0.124763, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_1sj88"]
vertices = PackedVector3Array(-5.7524, 0.199999, -7.25359, -3.0024, 0.199999, -7.50359, -2.7524, 0.199999, -8.00359, -5.7524, 0.199999, -9.00359, -1.2524, 0.199999, -8.00359, 11.4976, 0.199999, -9.00359, -1.0024, 0.199999, -6.25359, 2.9976, 0.399999, -6.25359, 2.9976, 0.199999, -7.00359, 1.66427, 0.199999, -6.25359, 11.4976, 0.199999, -7.00359, 13.4976, 3.4, -7.00359, 13.4976, 3.4, -3.75359, 15.7476, 3.4, -3.25359, 15.7476, 3.4, -9.00359, -2.0024, 3.4, -9.00359, -2.0024, 3.4, -6.75359, 13.7476, 0.199999, -6.75359, 15.7476, 0.199999, -9.00359, 13.7476, 0.199999, 4.99641, 15.7476, 0.199999, 4.99641, 3.4976, 0.199999, -1.25359, 4.7476, 0.199999, -1.50359, 4.7476, 0.199999, -2.50359, 2.9976, 0.199999, -2.50359, 3.4976, 0.199999, 1.24641, 2.9976, 0.199999, 2.74641, 4.7476, 0.199999, 2.74641, 4.7476, 0.199999, 1.49641, -1.2524, 0.199999, -5.75359, -2.7524, 0.199999, -5.75359, 2.9976, 0.399999, 6.49641, 3.2476, 0.499999, 6.24641, 3.2476, 0.499999, 3.74641, -1.2524, 0.199999, 5.99641, -1.0024, 0.199999, 6.49641, 1.66427, 0.199999, 6.49641, 3.2476, 0.499999, -3.50359, 3.2476, 0.499999, -6.00359, -5.7524, 0.199999, 7.49641, -3.0024, 0.199999, 7.49641, -2.7524, 0.199999, 5.99641, 15.7476, 3.4, 0.496406, 16.4976, 3.4, 0.246406, 16.4976, 3.4, -0.253594, 15.7476, 3.4, -0.503594, 13.4976, 3.4, 1.99641, 13.4976, 3.4, -2.00359, 12.4976, 3.3, -2.00359, 13.4976, 3.4, 3.74641, 15.7476, 3.4, 3.24641, 11.7476, 2.6, -5.00359, 11.4976, 2.6, -5.75359, 9.9976, 2.6, -3.50359, 12.2476, 2.8, -3.00359, 8.6476, 2.3, -3.50359, 10.1226, 2.6, -5.79526, 8.7476, 2.3, -5.83693, 12.4976, 2.6, -5.00359, 12.4976, 2.8, -3.00359, 10.2476, 3.4, 1.49641, 12.7476, 3.3, 1.99641, 10.0601, 3.2, -2.25359, 10.1226, 3.4, -1.00359, 10.4976, 0.199999, -5.75359, 10.4976, 0.199999, 5.99641, 12.4976, 0.199999, 5.99641, 12.4976, 0.199999, -5.75359, 6.2476, 0.199999, -1.25359, 9.2476, 0.199999, -2.50359, 6.2476, 0.199999, 1.24641, 9.2476, 0.199999, 2.74641, 4.4976, 2.6, -0.503594, 4.4976, 2.6, 0.496406, 5.2476, 2.6, 0.496406, 5.2476, 2.6, -0.503594, 12.4976, 2.6, 4.99641, 9.9976, 2.6, 3.74641, 11.4976, 2.6, 5.24641, 12.6643, 2.7, 2.99641, 11.4976, 2.6, 5.99641, 8.6476, 2.3, 3.74641, 8.7476, 2.3, 6.07974, 10.1226, 2.6, 6.03807, 13.4976, 3.4, 7.24641, 15.7476, 3.4, 9.24641, -2.0024, 3.4, 6.99641, -2.0024, 3.4, 9.24641, -2.7524, 0.199999, 7.99641, -5.7524, 0.199999, 9.24641, 13.4976, 0.199999, 7.24641, 15.7476, 0.199999, 9.24641, -1.2524, 0.199999, 7.99641, 2.9976, 0.199999, 7.24641)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(2, 3, 4), PackedInt32Array(4, 3, 5), PackedInt32Array(7, 9, 8), PackedInt32Array(8, 9, 6), PackedInt32Array(8, 6, 4), PackedInt32Array(10, 8, 5), PackedInt32Array(5, 8, 4), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(16, 15, 11), PackedInt32Array(11, 15, 14), PackedInt32Array(10, 5, 17), PackedInt32Array(17, 5, 18), PackedInt32Array(19, 17, 20), PackedInt32Array(20, 17, 18), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(21, 25, 24), PackedInt32Array(24, 25, 26), PackedInt32Array(28, 27, 25), PackedInt32Array(25, 27, 26), PackedInt32Array(30, 29, 24), PackedInt32Array(31, 36, 32), PackedInt32Array(32, 36, 33), PackedInt32Array(33, 36, 26), PackedInt32Array(26, 36, 35), PackedInt32Array(26, 35, 34), PackedInt32Array(7, 38, 9), PackedInt32Array(9, 38, 37), PackedInt32Array(9, 37, 24), PackedInt32Array(9, 24, 6), PackedInt32Array(6, 24, 29), PackedInt32Array(41, 40, 39), PackedInt32Array(0, 1, 30), PackedInt32Array(26, 34, 41), PackedInt32Array(30, 24, 0), PackedInt32Array(0, 24, 26), PackedInt32Array(0, 26, 41), PackedInt32Array(0, 41, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(42, 46, 45), PackedInt32Array(45, 46, 47), PackedInt32Array(47, 46, 48), PackedInt32Array(49, 46, 50), PackedInt32Array(50, 46, 42), PackedInt32Array(12, 13, 47), PackedInt32Array(47, 13, 45), PackedInt32Array(51, 54, 52), PackedInt32Array(52, 54, 48), PackedInt32Array(52, 48, 53), PackedInt32Array(52, 53, 56), PackedInt32Array(56, 53, 57), PackedInt32Array(57, 53, 55), PackedInt32Array(57, 55, 37), PackedInt32Array(57, 37, 38), PackedInt32Array(48, 54, 59), PackedInt32Array(59, 54, 58), PackedInt32Array(58, 54, 51), PackedInt32Array(61, 60, 46), PackedInt32Array(46, 60, 63), PackedInt32Array(46, 63, 48), PackedInt32Array(48, 63, 62), PackedInt32Array(48, 62, 53), PackedInt32Array(67, 66, 64), PackedInt32Array(64, 66, 65), PackedInt32Array(22, 23, 68), PackedInt32Array(68, 23, 69), PackedInt32Array(28, 70, 27), PackedInt32Array(27, 70, 71), PackedInt32Array(68, 69, 70), PackedInt32Array(70, 69, 71), PackedInt32Array(75, 74, 72), PackedInt32Array(72, 74, 73), PackedInt32Array(76, 78, 79), PackedInt32Array(79, 78, 61), PackedInt32Array(61, 78, 77), PackedInt32Array(61, 77, 60), PackedInt32Array(80, 83, 78), PackedInt32Array(78, 83, 82), PackedInt32Array(78, 82, 77), PackedInt32Array(77, 82, 81), PackedInt32Array(81, 82, 33), PackedInt32Array(33, 82, 32), PackedInt32Array(49, 50, 84), PackedInt32Array(84, 50, 85), PackedInt32Array(86, 84, 87), PackedInt32Array(87, 84, 85), PackedInt32Array(40, 88, 39), PackedInt32Array(39, 88, 89), PackedInt32Array(19, 20, 90), PackedInt32Array(90, 20, 91), PackedInt32Array(89, 88, 92), PackedInt32Array(92, 93, 89), PackedInt32Array(89, 93, 90), PackedInt32Array(89, 90, 91), PackedInt32Array(31, 93, 36), PackedInt32Array(36, 93, 35), PackedInt32Array(35, 93, 92)]
cell_height = 0.1
agent_height = 2.0

[node name="TestStage" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0ooc")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1sj88")

[node name="subversion_map1" parent="NavigationRegion3D" instance=ExtResource("1_ka8lc")]

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.62911, 6.30766, 0)
light_color = Color(0.916943, 0.871125, 0.696989, 1)
omni_range = 27.1345

[node name="FirstPersonPlayer" parent="." instance=ExtResource("2_23518")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.46703, 7.1907e-07, -0.0105383)

[node name="BasicEnemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("3_efsec")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.8879, 0, 2.10787)
player = NodePath("../FirstPersonPlayer")
speed = 3.0

[node name="EnemySpawner" parent="." node_paths=PackedStringArray("player") instance=ExtResource("4_pxmmj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.8055, 0.182184, -8.27269)
player = NodePath("../FirstPersonPlayer")
