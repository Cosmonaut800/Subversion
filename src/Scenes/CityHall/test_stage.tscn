[gd_scene load_steps=6 format=3 uid="uid://bbrwemhjdmnmp"]

[ext_resource type="PackedScene" uid="uid://blmvkrw84v3a4" path="res://assets/Models/first_person_map.glb" id="1_ndep3"]
[ext_resource type="PackedScene" uid="uid://dpudw516j8pow" path="res://src/Scenes/Player/first_person_player.tscn" id="2_23518"]
[ext_resource type="PackedScene" uid="uid://crw2dcp25lpgq" path="res://src/Scenes/CityHall/BasicEnemy.tscn" id="3_efsec"]

[sub_resource type="Environment" id="Environment_k0ooc"]
ambient_light_source = 2
ambient_light_color = Color(0.188572, 0.166762, 0.124763, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_1sj88"]
vertices = PackedVector3Array(5.2476, 0.2, -4.7524, 5.4976, 0.2, -4.2524, 5.7476, 0.2, -5.7524, 3.9976, 0.2, 5.9976, 3.9976, 0.2, 4.7476, 2.7476, 0.2, 4.4976, 2.7476, 0.2, 1.9976, 5.2476, 0.2, 1.7476, 5.2476, 0.2, 1.4976, 2.7476, 0.2, 1.2476, 2.2476, 0.2, 1.9976, 2.2476, 0.2, -3.5024, 2.7476, 0.2, -2.0024, 2.7476, 0.2, -4.5024, 2.7476, 0.2, -1.2524, 5.2476, 0.2, -1.5024, 5.2476, 0.2, -1.7524, -5.7524, 0.2, -1.5024, -3.7524, 0.2, -1.5024, -3.5024, 0.2, -3.7524, -5.7524, 0.2, -5.7524, -1.0024, 0.2, 2.2476, -1.2524, 0.2, 2.9976, -1.2524, 0.2, 5.9976, 5.4976, 0.2, 2.9976, 6.9976, 0.2, 2.9976, 6.7476, 0.2, 0.497604, 8.2476, 0.2, 0.247604, 8.2476, 0.2, -0.252396, 6.7476, 0.2, -0.502396, 6.7476, 0.2, -2.7524, 9.2476, 0.2, -3.0024, 11.4976, 0.2, -5.7524, 9.4976, 0.2, -2.5024, 11.4976, 0.2, -2.5024, -2.0024, 0.4, 2.9976, -1.2524, 2.6, -1.2524, -1.2524, 2.6, 1.2476, 1.2476, 2.6, 1.2476, 1.2476, 2.6, -2.7524, -2.7524, 0.4, 2.9976, -3.7524, 0.2, 2.9976, -5.7524, 0.2, 5.9976, -2.7524, 2.6, -2.7524, -2.2524, 2.5, -1.2524, -2.2524, 0.9, 1.9976, -2.7524, 2.5, -1.3149, 9.4976, 0.2, 0.497604, 9.4976, 0.2, -0.502396, 5.4976, 0.2, 4.4976, 11.4976, 0.2, 5.9976, 9.4976, 0.2, 2.7476, -1.0024, 0.2, -1.0024, -1.0024, 0.2, 0.997604, 0.997604, 0.2, 0.997604, 0.997604, 0.2, -1.0024)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(5, 4, 3), PackedInt32Array(10, 9, 6), PackedInt32Array(6, 9, 8), PackedInt32Array(6, 8, 7), PackedInt32Array(12, 11, 13), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 12), PackedInt32Array(9, 10, 14), PackedInt32Array(14, 10, 11), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 20), PackedInt32Array(12, 14, 11), PackedInt32Array(2, 0, 13), PackedInt32Array(6, 5, 10), PackedInt32Array(10, 5, 21), PackedInt32Array(21, 5, 22), PackedInt32Array(3, 23, 5), PackedInt32Array(5, 23, 22), PackedInt32Array(19, 20, 13), PackedInt32Array(13, 20, 2), PackedInt32Array(13, 11, 19), PackedInt32Array(7, 8, 24), PackedInt32Array(24, 8, 25), PackedInt32Array(25, 8, 26), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(15, 16, 29), PackedInt32Array(29, 16, 30), PackedInt32Array(30, 16, 1), PackedInt32Array(29, 26, 15), PackedInt32Array(15, 26, 8), PackedInt32Array(1, 2, 30), PackedInt32Array(30, 2, 31), PackedInt32Array(31, 2, 32), PackedInt32Array(33, 31, 34), PackedInt32Array(34, 31, 32), PackedInt32Array(35, 22, 23), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(40, 23, 41), PackedInt32Array(41, 23, 42), PackedInt32Array(44, 43, 36), PackedInt32Array(36, 43, 39), PackedInt32Array(40, 35, 23), PackedInt32Array(43, 44, 46), PackedInt32Array(46, 44, 45), PackedInt32Array(46, 45, 40), PackedInt32Array(18, 41, 17), PackedInt32Array(17, 41, 42), PackedInt32Array(40, 45, 35), PackedInt32Array(28, 48, 27), PackedInt32Array(27, 48, 47), PackedInt32Array(49, 51, 3), PackedInt32Array(3, 51, 50), PackedInt32Array(49, 24, 25), PackedInt32Array(3, 4, 49), PackedInt32Array(48, 33, 34), PackedInt32Array(47, 48, 34), PackedInt32Array(49, 25, 51), PackedInt32Array(47, 34, 51), PackedInt32Array(51, 34, 50), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53)]
cell_height = 0.1
agent_height = 2.0

[node name="TestStage" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0ooc")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1sj88")

[node name="first_person_map" parent="NavigationRegion3D" instance=ExtResource("1_ndep3")]

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.2338, 0)
light_color = Color(1, 0.952941, 0.92549, 1)
omni_range = 18.3471

[node name="FirstPersonPlayer" parent="." instance=ExtResource("2_23518")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.89307, 7.1907e-07, 5.27605)

[node name="BasicEnemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("3_efsec")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.2132, 0, 5.20598)
player = NodePath("../FirstPersonPlayer")
speed = 3.0
